#**
 *  Display facets based on field values
 *  e.g.: fields specified by &facet.field=
 *#

#if($response.facetFields)
  <h2 #annTitle("Facets generated by adding &facet.field= to the request")>
    Felder
  </h2>
  #foreach($field in $response.facetFields) 
    <div class="navigatorbox" id="meaningbox">
    #set ($flag = false) 
	## Hide facets without value
	#if($field.values.size() > 0) 
	    <div>
	    <span class="facet-field">$field.name</span>
	    <span class="togglebutton"  name="show" id="$field.name" onClick="toggleFacets('ul$field.name')">&#x25BE;&#x25B4;</span>
	    
	    #if($flag)
		<ul id="ul$field.name" name="facetul" style="display:none;">
	    #else
		<ul id="ul$field.name" name="facetul">
		#set ($flag = true)
	    #end

	    #foreach($facet in $field.values)
	    <li>
		<a href="#url_for_facet_filter($field.name, $facet.name)">$facet.name</a> ($facet.count)
	    </li>
	    #end
	    </ul>
	    </div> 
	#end  ## end if > 0
    </div>  
    #end    ## end for each facet field
 
#end      ## end if response has facet fields
